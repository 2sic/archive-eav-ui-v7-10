{"version":3,"file":"eav-edit.min.js","sources":["eav-edit.js"],"names":["app","angular","module","directive","templateUrl","restrict","scope","editPackageRequest","controller","controllerAs","appId","$http","$scope","entitiesSvc","$modalInstance","vm","this","registeredControls","registerEditControl","control","push","isValid","valid","forEach","e","i","save","savePackage","editPackage","getPackage","then","result","data","entities","v","entity","undefined","packageInfo","contentTypeName","newEntity","enhanceEntity","formlyConfig","contentTypeFieldSvc","editInDefaultLanguageFirst","form","$valid","model","formFields","loadContentType","StaticName","Type","getFields","debug","Metadata","All","key","type","getType","templateOptions","required","Required","label","Name","description","Notes","settings","hide","VisibleInEditUI","expressionProperties","templateOptions.disabled","attributeConfiguration","toLowerCase","subType","String","InputType","RowCount","eavFieldTemplates","formlyConfigProvider","setType","name","template","wrapper","defaultOptions","options","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","DropdownValues","o","replace","split","map","s","ngOptions","ngModelAttrs","{{to.settings.String.RowCount}}","cols","attribute","{{to.settings.Number.Min}}","{{to.settings.Number.Max}}","{{to.settings.Number.Decimals ? \"^[0-9]+(.[0-9]{1,\" + to.settings.Number.Decimals + \"})?$\" : null}}","datepickerOptions","datepickerPopup","$filter","$modal","eavManagementDialog","to","Entity","availableEntities","Values","Value","Dimensions","chosenEntities","addEntity","selectedEntity","openNewEntityDialog","createEntityAllowed","EntityType","modalInstance","open","entityType","edit","resolve","getAvailableEntities","method","url","params","getEntityText","entityId","length","Text","remove","item","index","indexOf","splice","run","$templateCache","put","eavLocalization","setWrapper","languages","transclude","link","element","attrs","eavDefaultValueService","langConf","initCurrentValue","addAttribute","fieldModel","currentLanguage","defaultLanguage","defaultValue","addVs","keys","valueToEdit","_currentValue","disabled","$watch","newValue","oldValue","console","log","_initCurrentValue","hasLanguage","languageKey","getVsWithLanguage","isDefaultLanguage","enableTranslate","infoMessage","join","tooltip","editableIn","usedIn","actions","translate","removeLanguage","linkDefault","autoTranslate","alert","copyFrom","useFrom","vs","setLanguage","shareFrom","compile","attributes","modelController","$formatters","modelValue","parsers","viewValue","require","service","fieldConfig","d","DefaultValue","Date","$q","close","dismiss"],"mappings":"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"}